import{C as _t}from"./mjBn8cdH.js";import{_ as pt}from"./BtlsaEGU.js";import{m as et,p as n,o as a,z as f,w as s,b as e,a as i,d as c,t as m,y as p,c as u,_ as st,r as g,A as $,u as _,q as Z,F as h,s as k,C as D}from"./DOeCu9iG.js";import{u as vt}from"./DgCyjmrL.js";import{a as O,d as ft,m as gt}from"./3VsuDZ3B.js";const yt={class:"mapTop"},ht={class:"mapTitle"},kt={key:0,class:"mapDesc"},wt={key:1,class:"mapNote"},bt={key:2,class:"mapTags"},Ct=et({__name:"MapCard",props:{title:{},desc:{},note:{},cover:{},tags:{},to:{}},setup(ot){return(r,V)=>{const L=n("v-img"),w=n("v-icon"),y=n("v-chip"),T=n("v-card-text"),q=n("v-card");return a(),f(q,{class:"mapCard",rounded:"xl",variant:"flat",to:r.to},{default:s(()=>[e(L,{src:r.cover,height:"240",cover:"",class:"mapImg"},null,8,["src"]),e(T,{class:"mapBody"},{default:s(()=>{var A,x;return[i("div",yt,[i("div",ht,[(A=r.tags)!=null&&A[1]?(a(),f(y,{key:0,class:"verChip mr-2 mb-1",size:"small",variant:"flat",label:""},{default:s(()=>[e(w,{start:"",size:"14",icon:"mdi-minecraft"}),c(" "+m(r.tags[1]),1)]),_:1})):p("",!0),c(" "+m(r.title),1)]),e(w,{icon:"mdi-arrow-top-right",class:"mapArrow"})]),r.desc?(a(),u("div",kt,m(r.desc),1)):p("",!0),r.note?(a(),u("div",wt,m(r.note),1)):p("",!0),(x=r.tags)!=null&&x.length?(a(),u("div",bt,[e(y,{size:"small",variant:"tonal",class:"mr-2 mb-2"},{default:s(()=>[c(m(r.tags[0]),1)]),_:1}),e(y,{size:"small",variant:"tonal",class:"mr-2 mb-2"},{default:s(()=>[c(m(r.tags[2]),1)]),_:1})])):p("",!0)]}),_:1})]),_:1},8,["to"])}}}),$t=st(Ct,[["__scopeId","data-v-daeecd02"]]),Lt={class:"mapsPage"},Tt={class:"section sectionTight"},At={class:"searchBar"},xt={class:"section sectionTight"},Bt={class:"cardWrap"},zt={class:"section sectionAlt"},Mt={class:"dlTitle"},Dt={class:"dlDesc"},Vt={key:0,class:"dlTags"},qt={class:"dlBtnRow"},St=["innerHTML"],Ht={key:1,class:"detailBlock"},Nt={key:2,class:"detailBlock"},jt={key:3,class:"detailBlock"},Ft={key:4,class:"detailBlock"},J="地圖作品｜夢想之都工作室 DreamCity Studio",P="精選夢想之都代表性作品：島國勇者、童言無忌、騎士征途。",tt="https://www.dreamcity.studio/images/bg/4.jpg",It=et({__name:"index",setup(ot){vt({title:J,meta:[{name:"description",content:P},{property:"og:title",content:J},{property:"og:description",content:P},{property:"og:image",content:tt},{property:"og:url",content:"https://www.dreamcity.studio/map"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:J},{name:"twitter:description",content:P},{name:"twitter:image",content:tt}]});const r=g(""),V=g("ALL");function L(l){return l.replace(/^\.\//,"").replace(/\/$/,"")}function w(l){const t=O.find(d=>d.title===l);if(t)return`/map/${L(t.src)}`}function y(l,t){const d=t.trim();return d?l.toLowerCase().includes(d.toLowerCase()):!0}const T=$(()=>O.map(l=>({slug:L(l.src),title:l.title,desc:l.des,note:l.note,tags:l.tag,cover:l.img}))),q=$(()=>new Set(T.value.map(l=>l.slug))),A=$(()=>ft),x=$(()=>{if(V.value==="所有作品")return[];const l=r.value.trim();return T.value.filter(t=>{const d=`${t.title} ${t.desc} ${(t.tags||[]).join(" ")}`;return y(d,l)})}),at=$(()=>{if(V.value==="精選")return[];const l=r.value.trim();return A.value.filter(t=>{const d=w(t.name);if(!d)return!0;const I=String(d).replace(/^\/map\//,"");return!q.value.has(I)}).filter(t=>{const d=`${t.name} ${t.des} ${(t.tag||[]).join(" ")}`;return y(d,l)})}),b=g(!1),nt=g(""),S=g([]),H=g(""),N=g([]),j=g([]),F=g([]);function W(l){var d;nt.value=`了解更多｜${l}`;const t=(d=gt)==null?void 0:d[l];S.value=Array.isArray(t==null?void 0:t.author)?t.author:[],H.value=typeof(t==null?void 0:t.author_html)=="string"?t.author_html:"",N.value=Array.isArray(t==null?void 0:t.visual)?t.visual:[],j.value=Array.isArray(t==null?void 0:t.audio)?t.audio:[],F.value=Array.isArray(t==null?void 0:t.warning)?t.warning:[],b.value=!0}return(l,t)=>{const d=_t,I=n("v-text-field"),U=n("v-container"),C=n("v-btn"),G=n("v-col"),K=n("v-row"),lt=n("v-img"),rt=n("v-icon"),R=n("v-chip"),Q=n("v-card-text"),X=n("v-card"),it=pt,ct=n("v-alert"),B=n("v-list-item-title"),z=n("v-list-item"),M=n("v-list"),E=n("v-divider"),dt=n("v-spacer"),ut=n("v-card-actions"),mt=n("v-dialog");return a(),u("div",Lt,[e(d,{kicker:"Map",title:"Minecraft 地圖作品",sub:`我們把玩法、敘事、視覺與機制，做成玩家可以直接進去體驗的世界。\r
    本頁地圖僅支援 Java 版 Minecraft 體驗遊玩。`,meta:["Minecraft","Map","Adventure","Multiplayer"]}),i("section",Tt,[e(U,{class:"wrap"},{default:s(()=>[i("div",At,[e(I,{modelValue:_(r),"onUpdate:modelValue":t[0]||(t[0]=o=>Z(r)?r.value=o:null),label:"搜尋地圖名稱 / 標籤",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-magnify","hide-details":""},null,8,["modelValue"])])]),_:1})]),i("section",xt,[e(U,{class:"wrap"},{default:s(()=>[t[5]||(t[5]=i("div",{class:"head"},[i("h2",{class:"h2"},"精選地圖")],-1)),e(K,{dense:""},{default:s(()=>[(a(!0),u(h,null,k(_(x),o=>(a(),f(G,{cols:"12",md:"6",key:o.slug},{default:s(()=>[i("div",Bt,[e($t,{title:o.title,desc:o.desc,note:o.note,cover:o.cover,tags:o.tags,to:`/map/${o.slug}`},null,8,["title","desc","note","cover","tags","to"]),e(C,{class:"authorBtn",icon:"mdi-account-multiple",size:"small",variant:"tonal",color:"white",onClick:D(v=>W(o.title),["stop","prevent"])},null,8,["onClick"])])]),_:2},1024))),128))]),_:1})]),_:1})]),i("section",zt,[e(U,{class:"wrap"},{default:s(()=>[t[11]||(t[11]=i("div",{class:"head"},[i("h2",{class:"h2"},"更多地圖作品")],-1)),e(K,{dense:""},{default:s(()=>[(a(!0),u(h,null,k(_(at),o=>(a(),f(G,{cols:"12",md:"4",key:o.name},{default:s(()=>[e(X,{class:"dlCard",rounded:"xl",variant:"flat",to:w(o.name)},{default:s(()=>[e(lt,{src:o.img,height:"200",cover:""},null,8,["src"]),e(Q,{class:"dlBody"},{default:s(()=>{var v,Y;return[i("div",Mt,[(v=o.tag)!=null&&v[1]?(a(),f(R,{key:0,class:"verChip mr-2 mb-1",size:"small",variant:"flat",label:""},{default:s(()=>[e(rt,{start:"",size:"14",icon:"mdi-minecraft"}),c(" "+m(o.tag[1]),1)]),_:2},1024)):p("",!0),c(" "+m(o.name),1)]),i("div",Dt,m(o.des),1),(Y=o.tag)!=null&&Y.length?(a(),u("div",Vt,[e(R,{size:"small",variant:"tonal",class:"mr-2 mb-2"},{default:s(()=>[c(m(o.tag[0]),1)]),_:2},1024),e(R,{size:"small",variant:"tonal",class:"mr-2 mb-2"},{default:s(()=>[c(m(o.tag[2]),1)]),_:2},1024)])):p("",!0),i("div",qt,[e(C,{color:"primary",variant:"tonal",rounded:"xl",size:"small",href:o.map_src,target:"_blank",rel:"noopener","prepend-icon":"mdi-download",onClick:t[1]||(t[1]=D(()=>{},["stop"]))},{default:s(()=>t[6]||(t[6]=[c(" 地圖 ")])),_:2},1032,["href"]),o.res_src?(a(),f(C,{key:0,color:"primary",variant:"tonal",rounded:"xl",size:"small",href:o.res_src,target:"_blank",rel:"noopener","prepend-icon":"mdi-palette",onClick:t[2]||(t[2]=D(()=>{},["stop"]))},{default:s(()=>t[7]||(t[7]=[c(" 材質包 ")])),_:2},1032,["href"])):p("",!0),e(C,{color:"primary",variant:"tonal",rounded:"xl",size:"small","prepend-icon":"mdi-information-outline",onClick:D(Ut=>W(o.name),["stop","prevent"])},{default:s(()=>t[8]||(t[8]=[c(" 了解更多 ")])),_:2},1032,["onClick"])])]}),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1}),e(ct,{type:"info",variant:"tonal",rounded:"xl",class:"mb-6"},{default:s(()=>[t[10]||(t[10]=c(" 下載與遊玩前，請先閱讀 ")),e(it,{to:"/map/guide",class:"link"},{default:s(()=>t[9]||(t[9]=[c(" 地圖版權聲明與安裝教學 ")])),_:1})]),_:1})]),_:1})]),e(mt,{modelValue:_(b),"onUpdate:modelValue":t[4]||(t[4]=o=>Z(b)?b.value=o:null),"max-width":"720"},{default:s(()=>[e(X,{rounded:"xl",variant:"flat",class:"authorDialogCard"},{default:s(()=>[e(Q,{class:"authorDialogBody"},{default:s(()=>[_(H)?(a(),u("div",{key:0,class:"authorHtml",innerHTML:_(H)},null,8,St)):p("",!0),_(S).length?(a(),u("div",Ht,[t[12]||(t[12]=i("div",{class:"detailTitle"},"作者名單",-1)),e(M,{density:"comfortable",class:"detailList"},{default:s(()=>[(a(!0),u(h,null,k(_(S),(o,v)=>(a(),f(z,{key:"a"+v},{default:s(()=>[e(B,null,{default:s(()=>[c(m(o),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):p("",!0),_(N).length?(a(),u("div",Nt,[e(E,{class:"my-4"}),t[13]||(t[13]=i("div",{class:"detailTitle"},"顯示設定",-1)),e(M,{density:"comfortable",class:"detailList"},{default:s(()=>[(a(!0),u(h,null,k(_(N),(o,v)=>(a(),f(z,{key:"v"+v},{default:s(()=>[e(B,null,{default:s(()=>[c(m(o),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):p("",!0),_(j).length?(a(),u("div",jt,[e(E,{class:"my-4"}),t[14]||(t[14]=i("div",{class:"detailTitle"},"音效設定",-1)),e(M,{density:"comfortable",class:"detailList"},{default:s(()=>[(a(!0),u(h,null,k(_(j),(o,v)=>(a(),f(z,{key:"au"+v},{default:s(()=>[e(B,null,{default:s(()=>[c(m(o),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):p("",!0),_(F).length?(a(),u("div",Ft,[e(E,{class:"my-4"}),t[15]||(t[15]=i("div",{class:"detailTitle"},"注意事項",-1)),e(M,{density:"comfortable",class:"detailList"},{default:s(()=>[(a(!0),u(h,null,k(_(F),(o,v)=>(a(),f(z,{key:"w"+v},{default:s(()=>[e(B,null,{default:s(()=>[c(m(o),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):p("",!0)]),_:1}),e(ut,{class:"authorDialogActions"},{default:s(()=>[e(dt),e(C,{variant:"tonal",rounded:"xl",onClick:t[3]||(t[3]=o=>b.value=!1)},{default:s(()=>t[16]||(t[16]=[c("關閉")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),Gt=st(It,[["__scopeId","data-v-8c986d10"]]);export{Gt as default};
