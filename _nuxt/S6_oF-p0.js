import{_ as _t}from"./Cv2gDYtc.js";import{_ as vt}from"./rcC7iFqE.js";import{e as at,r as o,o as s,i as f,w as a,b as e,a as i,d as r,t as u,h as v,c as d,_ as nt,k as O,f as m,l as g,F as k,g as w,n as V,p as $}from"./BmQOlu4v.js";import{m as tt,a as pt,d as ft}from"./B_dRe1ci.js";import{u as gt}from"./su8XUb1u.js";const yt={class:"mapTop"},ht={class:"mapTitle"},kt={key:0,class:"mapDesc"},wt={key:1,class:"mapNote"},xt={key:2,class:"mapTags"},bt=at({__name:"MapCard",props:{title:{},desc:{},note:{},cover:{},tags:{},to:{}},setup(_){return(y,S)=>{const L=o("v-img"),x=o("v-icon"),h=o("v-chip"),T=o("v-card-text"),q=o("v-card");return s(),f(q,{class:"mapCard",rounded:"xl",variant:"flat",to:_.to},{default:a(()=>[e(L,{src:_.cover,height:"240",cover:"",class:"mapImg"},null,8,["src"]),e(T,{class:"mapBody"},{default:a(()=>{var A,B;return[i("div",yt,[i("div",ht,[(A=_.tags)!=null&&A[1]?(s(),f(h,{key:0,class:"verChip mr-2 mb-1",size:"small",variant:"flat",label:""},{default:a(()=>[e(x,{start:"",size:"14",icon:"mdi-minecraft"}),r(" "+u(_.tags[1]),1)]),_:1})):v("",!0),r(" "+u(_.title),1)]),e(x,{icon:"mdi-arrow-top-right",class:"mapArrow"})]),_.desc?(s(),d("div",kt,u(_.desc),1)):v("",!0),_.note?(s(),d("div",wt,u(_.note),1)):v("",!0),(B=_.tags)!=null&&B.length?(s(),d("div",xt,[e(h,{size:"small",variant:"tonal",class:"mr-2 mb-2"},{default:a(()=>[r(u(_.tags[0]),1)]),_:1}),e(h,{size:"small",variant:"tonal",class:"mr-2 mb-2"},{default:a(()=>[r(u(_.tags[2]),1)]),_:1})])):v("",!0)]}),_:1})]),_:1},8,["to"])}}}),Ct=nt(bt,[["__scopeId","data-v-daeecd02"]]),$t={class:"mapsPage pageMax"},Lt={class:"section sectionTight"},Tt={class:"searchBar"},At={class:"section sectionTight"},Bt={class:"cardWrap"},zt={class:"section sectionAlt"},Mt={class:"dlTitle"},Dt={class:"dlDesc"},Vt={key:0,class:"dlTags"},St={class:"dlBtnRow"},qt=["innerHTML"],Ht={key:1,class:"detailBlock"},Nt={key:2,class:"detailBlock"},jt={key:3,class:"detailBlock"},Ft={key:4,class:"detailBlock"},P="地圖作品｜夢想之都工作室 DreamCity Studio",W="精選夢想之都代表性作品：島國勇者、童言無忌、騎士征途。",et="https://www.dreamcity.studio/images/bg/4.jpg",It=at({__name:"index",setup(_){gt({title:P,meta:[{name:"description",content:W},{property:"og:title",content:P},{property:"og:description",content:W},{property:"og:image",content:et},{property:"og:url",content:"https://www.dreamcity.studio/map"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:P},{name:"twitter:description",content:W},{name:"twitter:image",content:et}]});const y=g(""),S=g("ALL");function L(l){return l.replace(/^\.\//,"").replace(/\/$/,"")}function x(l){const t=tt.find(c=>c.title===l);if(t)return`/map/${L(t.src)}`}function h(l,t){const c=t.trim();return c?l.toLowerCase().includes(c.toLowerCase()):!0}const T=$(()=>tt.map(l=>({slug:L(l.src),title:l.title,desc:l.des,note:l.note,tags:l.tag,cover:l.img}))),q=$(()=>new Set(T.value.map(l=>l.slug))),A=$(()=>ft),B=$(()=>{if(S.value==="所有作品")return[];const l=y.value.trim();return T.value.filter(t=>{const c=`${t.title} ${t.desc} ${(t.tags||[]).join(" ")}`;return h(c,l)})}),st=$(()=>{if(S.value==="精選")return[];const l=y.value.trim();return A.value.filter(t=>{const c=x(t.name);if(!c)return!0;const U=String(c).replace(/^\/map\//,"");return!q.value.has(U)}).filter(t=>{const c=`${t.name} ${t.des} ${(t.tag||[]).join(" ")}`;return h(c,l)})}),b=g(!1),ot=g(""),H=g([]),N=g(""),j=g([]),F=g([]),I=g([]);function G(l){var c;ot.value=`了解更多｜${l}`;const t=(c=pt)==null?void 0:c[l];H.value=Array.isArray(t==null?void 0:t.author)?t.author:[],N.value=typeof(t==null?void 0:t.author_html)=="string"?t.author_html:"",j.value=Array.isArray(t==null?void 0:t.visual)?t.visual:[],F.value=Array.isArray(t==null?void 0:t.audio)?t.audio:[],I.value=Array.isArray(t==null?void 0:t.warning)?t.warning:[],b.value=!0}return(l,t)=>{const c=_t,U=o("v-text-field"),R=o("v-container"),C=o("v-btn"),K=o("v-col"),Q=o("v-row"),lt=o("v-img"),it=o("v-icon"),E=o("v-chip"),X=o("v-card-text"),Y=o("v-card"),rt=vt,ct=o("v-alert"),z=o("v-list-item-title"),M=o("v-list-item"),D=o("v-list"),J=o("v-divider"),dt=o("v-spacer"),ut=o("v-card-actions"),mt=o("v-dialog");return s(),d("div",$t,[e(c,{kicker:"Map",title:"Minecraft 地圖作品",sub:`我們把玩法、敘事、視覺與機制，做成玩家可以直接進去體驗的世界。\r
    本頁地圖僅支援 Java 版 Minecraft 體驗遊玩。`,meta:["Minecraft","Map","Adventure","Multiplayer"]}),i("section",Lt,[e(R,{class:"wrap"},{default:a(()=>[i("div",Tt,[e(U,{modelValue:m(y),"onUpdate:modelValue":t[0]||(t[0]=n=>O(y)?y.value=n:null),label:"搜尋地圖名稱 / 標籤",variant:"outlined",density:"comfortable","prepend-inner-icon":"mdi-magnify","hide-details":""},null,8,["modelValue"])])]),_:1})]),i("section",At,[e(R,{class:"wrap"},{default:a(()=>[t[5]||(t[5]=i("div",{class:"head"},[i("h2",{class:"h2"},"精選地圖")],-1)),e(Q,{dense:""},{default:a(()=>[(s(!0),d(k,null,w(m(B),n=>(s(),f(K,{cols:"12",md:"6",key:n.slug},{default:a(()=>[i("div",Bt,[e(Ct,{title:n.title,desc:n.desc,note:n.note,cover:n.cover,tags:n.tags,to:`/map/${n.slug}`},null,8,["title","desc","note","cover","tags","to"]),e(C,{class:"authorBtn",icon:"mdi-account-multiple",size:"small",variant:"tonal",color:"white",onClick:V(p=>G(n.title),["stop","prevent"])},null,8,["onClick"])])]),_:2},1024))),128))]),_:1})]),_:1})]),i("section",zt,[e(R,{class:"wrap"},{default:a(()=>[t[11]||(t[11]=i("div",{class:"head"},[i("h2",{class:"h2"},"更多地圖作品")],-1)),e(Q,{dense:""},{default:a(()=>[(s(!0),d(k,null,w(m(st),n=>(s(),f(K,{cols:"12",md:"4",key:n.name},{default:a(()=>[e(Y,{class:"dlCard",rounded:"xl",variant:"flat",to:x(n.name)},{default:a(()=>[e(lt,{src:n.img,height:"200",cover:""},null,8,["src"]),e(X,{class:"dlBody"},{default:a(()=>{var p,Z;return[i("div",Mt,[(p=n.tag)!=null&&p[1]?(s(),f(E,{key:0,class:"verChip mr-2 mb-1",size:"small",variant:"flat",label:""},{default:a(()=>[e(it,{start:"",size:"14",icon:"mdi-minecraft"}),r(" "+u(n.tag[1]),1)]),_:2},1024)):v("",!0),r(" "+u(n.name),1)]),i("div",Dt,u(n.des),1),(Z=n.tag)!=null&&Z.length?(s(),d("div",Vt,[e(E,{size:"small",variant:"tonal",class:"mr-2 mb-2"},{default:a(()=>[r(u(n.tag[0]),1)]),_:2},1024),e(E,{size:"small",variant:"tonal",class:"mr-2 mb-2"},{default:a(()=>[r(u(n.tag[2]),1)]),_:2},1024)])):v("",!0),i("div",St,[e(C,{color:"primary",variant:"tonal",rounded:"xl",size:"small",href:n.map_src,target:"_blank",rel:"noopener","prepend-icon":"mdi-download",onClick:t[1]||(t[1]=V(()=>{},["stop"]))},{default:a(()=>[...t[6]||(t[6]=[r(" 地圖 ",-1)])]),_:1},8,["href"]),n.res_src?(s(),f(C,{key:0,color:"primary",variant:"tonal",rounded:"xl",size:"small",href:n.res_src,target:"_blank",rel:"noopener","prepend-icon":"mdi-palette",onClick:t[2]||(t[2]=V(()=>{},["stop"]))},{default:a(()=>[...t[7]||(t[7]=[r(" 材質包 ",-1)])]),_:1},8,["href"])):v("",!0),e(C,{color:"primary",variant:"tonal",rounded:"xl",size:"small","prepend-icon":"mdi-information-outline",onClick:V(Ut=>G(n.name),["stop","prevent"])},{default:a(()=>[...t[8]||(t[8]=[r(" 了解更多 ",-1)])]),_:1},8,["onClick"])])]}),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1}),e(ct,{type:"info",variant:"tonal",rounded:"xl",class:"mb-6 mt-10"},{default:a(()=>[t[10]||(t[10]=r(" 下載與遊玩前，請先閱讀 ",-1)),e(rt,{to:"/map/guide",class:"link"},{default:a(()=>[...t[9]||(t[9]=[r(" 地圖版權聲明與安裝教學 ",-1)])]),_:1})]),_:1})]),_:1})]),e(mt,{modelValue:m(b),"onUpdate:modelValue":t[4]||(t[4]=n=>O(b)?b.value=n:null),"max-width":"720"},{default:a(()=>[e(Y,{rounded:"xl",variant:"flat",class:"authorDialogCard"},{default:a(()=>[e(X,{class:"authorDialogBody"},{default:a(()=>[m(N)?(s(),d("div",{key:0,class:"authorHtml",innerHTML:m(N)},null,8,qt)):v("",!0),m(H).length?(s(),d("div",Ht,[t[12]||(t[12]=i("div",{class:"detailTitle"},"作者名單",-1)),e(D,{density:"comfortable",class:"detailList"},{default:a(()=>[(s(!0),d(k,null,w(m(H),(n,p)=>(s(),f(M,{key:"a"+p},{default:a(()=>[e(z,null,{default:a(()=>[r(u(n),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):v("",!0),m(j).length?(s(),d("div",Nt,[e(J,{class:"my-4"}),t[13]||(t[13]=i("div",{class:"detailTitle"},"顯示設定",-1)),e(D,{density:"comfortable",class:"detailList"},{default:a(()=>[(s(!0),d(k,null,w(m(j),(n,p)=>(s(),f(M,{key:"v"+p},{default:a(()=>[e(z,null,{default:a(()=>[r(u(n),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):v("",!0),m(F).length?(s(),d("div",jt,[e(J,{class:"my-4"}),t[14]||(t[14]=i("div",{class:"detailTitle"},"音效設定",-1)),e(D,{density:"comfortable",class:"detailList"},{default:a(()=>[(s(!0),d(k,null,w(m(F),(n,p)=>(s(),f(M,{key:"au"+p},{default:a(()=>[e(z,null,{default:a(()=>[r(u(n),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):v("",!0),m(I).length?(s(),d("div",Ft,[e(J,{class:"my-4"}),t[15]||(t[15]=i("div",{class:"detailTitle"},"注意事項",-1)),e(D,{density:"comfortable",class:"detailList"},{default:a(()=>[(s(!0),d(k,null,w(m(I),(n,p)=>(s(),f(M,{key:"w"+p},{default:a(()=>[e(z,null,{default:a(()=>[r(u(n),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):v("",!0)]),_:1}),e(ut,{class:"authorDialogActions"},{default:a(()=>[e(dt),e(C,{variant:"tonal",rounded:"xl",onClick:t[3]||(t[3]=n=>b.value=!1)},{default:a(()=>[...t[16]||(t[16]=[r("關閉",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),Gt=nt(It,[["__scopeId","data-v-a823ef20"]]);export{Gt as default};
